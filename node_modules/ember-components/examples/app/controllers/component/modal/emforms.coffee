`import Ember from "ember"`

EmForms = Ember.ArrayController.extend
    #true if the form is currently being submitted
    submitting: false

    #The new user to be added
    newUser: undefined

    actions:
        initUser: ->
            @initNew()

        #Save the user on the server
        addUser: (m, e) ->
            e.promise = @fakePromise(@get('newUser')).then((t) =>
                @set 'model', @get('store').find('user')
                @initNew()
            )

    initNew: ->
        @set 'newUser', @get('store').createRecord 'user'

    fakePromise: (objToReturn) ->
        new Promise((res, rej) ->
            Ember.run.later(->
                res(objToReturn)
            , 1500)
        )
`export default EmForms`